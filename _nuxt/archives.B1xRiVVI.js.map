{"version":3,"file":"archives.B1xRiVVI.js","sources":["../../../../pages/archives.vue"],"sourcesContent":["<template>\n  <UCard class=\"\">\n    <h1 class=\"text-4xl font-bold mb-8 text-center\">存档</h1>\n    <ContentList :query=\"query\">\n      <template #not-found>\n        <p>No posts found.</p>\n      </template>\n      <template #default=\"{ list }\">\n        <div v-for=\"(article, index) in list\" :key=\"article._path\">\n          <div v-if=\"shouldDisplayYear(list, article.date, index)\" class=\"my-4\">\n            <span class=\"text-xl font-bold\">{{ getYear(article.date) }}</span>\n          </div>\n          <NuxtLink\n            :to=\"article._path\"\n            class=\"text-zinc-700 hover:text-zinc-600 dark:text-zinc-400 dark:hover:text-zinc-300\"\n          >\n            <span>{{ article.date }}</span> &middot;\n            <span>{{ article.title }}</span>\n          </NuxtLink>\n        </div>\n      </template>\n    </ContentList>\n  </UCard>\n</template>\n\n<script setup lang=\"ts\">\nimport type { QueryBuilderParams } from \"@nuxt/content/dist/runtime/types\";\n\ndefinePageMeta({\n  layout: \"page\",\n});\nconst query: QueryBuilderParams = {\n  path: \"\",\n  where: [{ listed: { $ne: false } }],\n  sort: [{ date: -1 }],\n};\nfunction getYear(date: string | number | Date) {\n  return new Date(date).getFullYear();\n}\nfunction shouldDisplayYear(list: any, date: any, index: any) {\n  const currentYear = getYear(date);\n  const prevYear = index > 0 ? getYear(list[index - 1].date) : null;\n  return currentYear !== prevYear;\n}\nfunction formatDate(date: string | number): string {\n  const options: Intl.DateTimeFormatOptions = {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n  return new Date(date).toLocaleDateString(\"en\", options);\n}\n</script>\n"],"names":["query","getYear","date","shouldDisplayYear","list","index","currentYear","prevYear"],"mappings":"kgBA+BA,MAAMA,EAA4B,CAChC,KAAM,GACN,MAAO,CAAC,CAAE,OAAQ,CAAE,IAAK,IAAS,EAClC,KAAM,CAAC,CAAE,KAAM,GAAI,CAAA,EAErB,SAASC,EAAQC,EAA8B,CAC7C,OAAO,IAAI,KAAKA,CAAI,EAAE,YAAY,CACpC,CACS,SAAAC,EAAkBC,EAAWF,EAAWG,EAAY,CACrD,MAAAC,EAAcL,EAAQC,CAAI,EAC1BK,EAAWF,EAAQ,EAAIJ,EAAQG,EAAKC,EAAQ,CAAC,EAAE,IAAI,EAAI,KAC7D,OAAOC,IAAgBC,CACzB"}