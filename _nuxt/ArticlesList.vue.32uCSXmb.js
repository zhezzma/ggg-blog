import{l as T,K as D,M as $,a6 as X,d as E,a7 as W,O as H,P as G,I as y,b as r,c as z,W as L,D as b,V as v,f as C,F as R,G as K,x as J,r as Q,a8 as Y,a3 as Z,g as _,w as k,e as P,j as I,t as A,E as B,a4 as x,a5 as ee}from"./entry.DME2G-rb.js";import{_ as te}from"./Card.D6VxqV1M.js";import ne from"./ContentList.BTkgGC9x.js";import{q as ae}from"./query.Bf2ZAAiC.js";const se={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},p=D($.ui.strategy,$.ui.pagination,se),oe=D($.ui.strategy,$.ui.button,X),ie=E({components:{UButton:W},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>p.default.size,validator(e){return Object.keys(oe.size).includes(e)}},activeButton:{type:Object,default:()=>p.default.activeButton},inactiveButton:{type:Object,default:()=>p.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>p.default.firstButton},lastButton:{type:Object,default:()=>p.default.lastButton},prevButton:{type:Object,default:()=>p.default.prevButton},nextButton:{type:Object,default:()=>p.default.nextButton},divider:{type:String,default:"â€¦"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:h}){const{ui:g,attrs:N}=H("pagination",G(e,"ui"),p,G(e,"class")),a=y({get(){return e.modelValue},set(n){h("update:modelValue",n)}}),l=y(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(n,s)=>s+1)),o=y(()=>{const n=l.value.length,s=a.value,c=Math.max(e.max,5),f=Math.floor((Math.min(c,n)-5)/2),M=s-f,S=s+f,U=M-1>1,q=S+1<n,t=[];if(n<=c){for(let u=1;u<=n;u++)t.push(u);return t}if(t.push(1),U&&t.push(e.divider),!q){const u=s+f+2-n;for(let m=s-f-u;m<=s-f-1;m++)t.push(m)}for(let u=Math.max(2,M);u<=Math.min(n,S);u++)t.push(u);if(!U){const u=1-(s-f-2);for(let m=s+f+1;m<=s+f+u;m++)t.push(m)}return q&&t.push(e.divider),S<n&&t.push(n),t.length>=3&&t[1]===e.divider&&t[2]===3&&(t[1]=2),t.length>=3&&t[t.length-2]===e.divider&&t[t.length-1]===t.length&&(t[t.length-2]=t.length-1),t}),i=y(()=>a.value>1),d=y(()=>a.value<l.value.length);function w(){i.value&&(a.value=1)}function O(){d.value&&(a.value=l.value.length)}function V(n){typeof n!="string"&&(a.value=n)}function j(){i.value&&a.value--}function F(){d.value&&a.value++}return{ui:g,attrs:N,currentPage:a,pages:l,displayedPages:o,canGoLastOrNext:d,canGoFirstOrPrev:i,onClickPrev:j,onClickNext:F,onClickPage:V,onClickFirst:w,onClickLast:O}}});function le(e,h,g,N,a,l){const o=W;return r(),z("div",v({class:e.ui.wrapper},e.attrs),[L(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(r(),b(o,v({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):C("",!0)]),L(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(r(),b(o,v({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):C("",!0)]),(r(!0),z(R,null,K(e.displayedPages,(i,d)=>(r(),b(o,v({key:`${i}-${d}`,size:e.size,disabled:e.disabled,label:`${i}`},i===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof i=="string","z-[1]":i===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(i)}),null,16,["size","disabled","label","class","onClick"]))),128)),L(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(r(),b(o,v({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):C("",!0)]),L(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(r(),b(o,v({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):C("",!0)])],16)}const ue=T(ie,[["render",le]]),re={class:""},de={class:"flex justify-between"},ce={class:"text-zinc-400 dark:text-zinc-300"},fe=P("div",{class:"my-5 p-4"},[P("h1",null,"Not found")],-1),pe={key:0,class:"flex justify-center"},ge=E({__name:"ArticlesList",props:{path:{type:String,default:"/"},pageSize:{type:Number,default:0}},async setup(e){let h,g;const N=J(),a=e;let l=a.pageSize;l===0&&(l=N.pageSize);const o=Q(0);let i={};const d=([h,g]=Y(()=>ae(a.path).count()),h=await h,g(),h);return Z(o,w=>{i={path:a.path,skip:(w-1)*l,limit:l,sort:[{date:-1}]}}),o.value=1,(w,O)=>{const V=ee,j=te,F=ne,n=ue;return r(),z("div",re,[_(F,{query:B(i)},{default:k(({list:s})=>[(r(!0),z(R,null,K(s,c=>(r(),b(j,{key:c._path,class:"mb-8"},{header:k(()=>[P("div",de,[P("h2",null,[_(V,{to:c._path,"active-class":"text-primary text-xl ","inactive-class":"font-semibold text-xl  text-zinc-700 hover:text-zinc-600 dark:text-zinc-50 dark:hover:text-zinc-300"},{default:k(()=>[I(A(c.title),1)]),_:2},1032,["to"])]),P("span",ce,A(c.date),1)])]),default:k(()=>[I(" "+A(c.description),1)]),_:2},1024))),128))]),"not-found":k(()=>[fe]),_:1},8,["query"]),B(d)>0?(r(),z("div",pe,[_(n,{modelValue:B(o),"onUpdate:modelValue":O[0]||(O[0]=s=>x(o)?o.value=s:null),size:"xl","page-count":B(l),total:B(d),class:"pagination"},null,8,["modelValue","page-count","total"])])):C("",!0)])}}});export{ge as _};
//# sourceMappingURL=ArticlesList.vue.32uCSXmb.js.map
