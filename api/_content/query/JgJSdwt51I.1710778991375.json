{"_path":"/unity/2020-02-20-shader-lost","_dir":"unity","_draft":false,"_partial":false,"_locale":"","title":"unity 移动平台打包丢失shader的问题","description":"自己写了个shader，并且是从代码里面来进行加载，编辑器中并没有引用。在编辑器中运行项目没有问题，但是当我发布到iso和android平台之后发现游戏中并不能找到我自己的shader，猜想是unity在打包过程中进行了一些优化，没有用到的shader不会被打到游戏包内。","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自己写了个shader，并且是从代码里面来进行加载，编辑器中并没有引用。在编辑器中运行项目没有问题，但是当我发布到iso和android平台之后发现游戏中并不能找到我自己的shader，猜想是unity在打包过程中进行了一些优化，没有用到的shader不会被打到游戏包内。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我找到了2个解决办法"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.随意创建一个物体并添加使用了此shader的材质。并不推荐此方法，正确的方法应该是第二种。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2.在GraphicsSettings中添加上此shader："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"选择Edit->ProjectSettings->Graphics （不同的unity版本可能有所不同，我的版本是5.6）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将shader拖入到Always Included Shaders数组中："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"img","src":"/images/2020-02-20-shader-lost/20180309110801448.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"img","src":"/images/2020-02-20-shader-lost/20180309110915442.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样我们重新打包之后，就可以正常找到shader了。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:unity:2020-02-20-shader-lost.md","_source":"content","_file":"unity/2020-02-20-shader-lost.md","_extension":"md","date":"2020-02-20"}