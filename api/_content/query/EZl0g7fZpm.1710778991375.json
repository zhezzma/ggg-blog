{"_path":"/tool/2021-12-11-yunxiao-liushuixian-hexo","_dir":"tool","_draft":false,"_partial":false,"_locale":"","title":"云效部署hexo到自己的主机 ","description":"构建设置构建命令# input your command here\ncnpm install -g hexo-cli\ncnpm install\nhexo clean\nhexo generate\n设置构建物\n部署设置下载路径设置部署脚本# 部署脚本会在部署组的每台机器上执行。\n# 一个典型脚本逻辑如下：先将制品包（在下载路径中配置的下载路径）解压缩到指定目录中，再执行启动脚本（通常在代码中维护，如示例中deploy.sh）。\n# 关于这个例子的详细解释见 https://help.aliyun.com/document_detail/153848.html \nmkdir /usr/local/s","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"构建"},"children":[{"type":"text","value":"构建"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设置构建命令"}]},{"type":"element","tag":"pre","props":{"code":"# input your command here\ncnpm install -g hexo-cli\ncnpm install\nhexo clean\nhexo generate\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# input your command here\ncnpm install -g hexo-cli\ncnpm install\nhexo clean\nhexo generate\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设置构建物\n"},{"type":"element","tag":"img","props":{"alt":"","src":"/images/2021-12-11-yunxiao-liushuixian-hexo/2021-12-01-22-00-34uxj0h.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"部署"},"children":[{"type":"text","value":"部署"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设置下载路径"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"/images/2021-12-11-yunxiao-liushuixian-hexo/2021-12-01-22-01-45guws3.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设置部署脚本"}]},{"type":"element","tag":"pre","props":{"code":"# 部署脚本会在部署组的每台机器上执行。\n# 一个典型脚本逻辑如下：先将制品包（在下载路径中配置的下载路径）解压缩到指定目录中，再执行启动脚本（通常在代码中维护，如示例中deploy.sh）。\n# 关于这个例子的详细解释见 https://help.aliyun.com/document_detail/153848.html \nmkdir /usr/local/src/igiven\ntar -zxvf /usr/local/src/igiven.tgz -C /usr/local/src/igiven/\n\\cp -rf /usr/local/src/igiven/* /usr/share/nginx/html\nrm -rf /usr/local/src/igiven.tgz\nrm -rf /usr/local/src/igiven\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 部署脚本会在部署组的每台机器上执行。\n# 一个典型脚本逻辑如下：先将制品包（在下载路径中配置的下载路径）解压缩到指定目录中，再执行启动脚本（通常在代码中维护，如示例中deploy.sh）。\n# 关于这个例子的详细解释见 https://help.aliyun.com/document_detail/153848.html \nmkdir /usr/local/src/igiven\ntar -zxvf /usr/local/src/igiven.tgz -C /usr/local/src/igiven/\n\\cp -rf /usr/local/src/igiven/* /usr/share/nginx/html\nrm -rf /usr/local/src/igiven.tgz\nrm -rf /usr/local/src/igiven\n"}]}]},{"type":"element","tag":"h2","props":{"id":"注意点"},"children":[{"type":"text","value":"注意点"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"仓库的名称不要例如igiven.github.io.不然部署时拉取仓库会失败"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"添加主机时必须使用python2.7"}]}]},{"type":"element","tag":"pre","props":{"code":"yum install -y nginx python2\nwhereis python\npython -v\nrm /usr/bin/python\nln -s /usr/bin/python2.7 /usr/bin/python\n# 执行过命令可以把python删除再link回去\n\nsystemctl enable nginx\nsystemctl start nginx\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yum install -y nginx python2\nwhereis python\npython -v\nrm /usr/bin/python\nln -s /usr/bin/python2.7 /usr/bin/python\n# 执行过命令可以把python删除再link回去\n\nsystemctl enable nginx\nsystemctl start nginx\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"构建","depth":2,"text":"构建"},{"id":"部署","depth":2,"text":"部署"},{"id":"注意点","depth":2,"text":"注意点"}]}},"_type":"markdown","_id":"content:tool:2021-12-11-yunxiao-liushuixian-hexo.md","_source":"content","_file":"tool/2021-12-11-yunxiao-liushuixian-hexo.md","_extension":"md","date":"2021-12-11"}