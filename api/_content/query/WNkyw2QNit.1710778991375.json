{"_path":"/unity/2021-07-20-formerlyserializedas","_dir":"unity","_draft":false,"_partial":false,"_locale":"","title":"防止变量引用丢失 FormerlySerializedAs","description":"public class shishi : MonoBehaviour\n{\n    public CameraSizeHandler CameraSize01;\n \n    [System.Serializable]\n    public class CameraSizeHandler\n    {\n        public Color BackgroundColor = Color.gray;\n        public Rect ViewPortRect = new Rect(0.0f, 0.0f, 1.0f, 1.0f); \n        public RectOffset Vie","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"img","src":"/images/2021-07-20-FormerlySerializedAs/20200110140001821.png"},"children":[]}]},{"type":"element","tag":"pre","props":{"code":"public class shishi : MonoBehaviour\n{\n    public CameraSizeHandler CameraSize01;\n \n    [System.Serializable]\n    public class CameraSizeHandler\n    {\n        public Color BackgroundColor = Color.gray;\n        public Rect ViewPortRect = new Rect(0.0f, 0.0f, 1.0f, 1.0f); \n        public RectOffset ViewPortOffset; \n        public Vector2 CanvasMargin = new Vector2(22.0f, 22.0f);\n        public float MaxSpeed = 1000.0f;\n        bool enabled = false;\n    }\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class shishi : MonoBehaviour\n{\n    public CameraSizeHandler CameraSize01;\n \n    [System.Serializable]\n    public class CameraSizeHandler\n    {\n        public Color BackgroundColor = Color.gray;\n        public Rect ViewPortRect = new Rect(0.0f, 0.0f, 1.0f, 1.0f); \n        public RectOffset ViewPortOffset; \n        public Vector2 CanvasMargin = new Vector2(22.0f, 22.0f);\n        public float MaxSpeed = 1000.0f;\n        bool enabled = false;\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现在有一个需求，想改一改CameraSize01这个字段的名字，比如想修改为CameraSize02，并且需要将之前在监视器面板中为CameraSize01设置的各项值保留下来，如果直接修改，则会丢失属性中的值"}]},{"type":"element","tag":"pre","props":{"code":"\npublic class shishi : MonoBehaviour\n{\n    [FormerlySerializedAs(\"CameraSize01\")]\n    public CameraSizeHandler CameraSize02;\n \n    [System.Serializable]\n    public class CameraSizeHandler\n    {\n        public Color BackgroundColor = Color.gray;\n        public Rect ViewPortRect = new Rect(0.0f, 0.0f, 1.0f, 1.0f); \n        public RectOffset ViewPortOffset; \n        public Vector2 CanvasMargin = new Vector2(22.0f, 22.0f);\n        public float MaxSpeed = 1000.0f;\n        bool enabled = false;\n    }\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\npublic class shishi : MonoBehaviour\n{\n    [FormerlySerializedAs(\"CameraSize01\")]\n    public CameraSizeHandler CameraSize02;\n \n    [System.Serializable]\n    public class CameraSizeHandler\n    {\n        public Color BackgroundColor = Color.gray;\n        public Rect ViewPortRect = new Rect(0.0f, 0.0f, 1.0f, 1.0f); \n        public RectOffset ViewPortOffset; \n        public Vector2 CanvasMargin = new Vector2(22.0f, 22.0f);\n        public float MaxSpeed = 1000.0f;\n        bool enabled = false;\n    }\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:unity:2021-07-20-FormerlySerializedAs.md","_source":"content","_file":"unity/2021-07-20-FormerlySerializedAs.md","_extension":"md","date":"2021-07-20"}