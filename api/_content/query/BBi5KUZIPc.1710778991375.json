{"_path":"/tool/2020-07-12-hexo-github","_dir":"tool","_draft":false,"_partial":false,"_locale":"","title":"使用hexo建立博客并部署到github","description":"使用hexo#安装hexo\nnpm install -g hexo-cli\nhexo -v\n\n# 初始化一个博客\ncd igiven.github.io\nhexo init\n\n#添加主题\ngit submodule add https://github.com/theme-next/hexo-theme-next themes/next\ngit submodule add https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\n\n#添加插件https://github.com/sisyphsu/hexo-enhancer#","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"使用hexo"},"children":[{"type":"text","value":"使用hexo"}]},{"type":"element","tag":"pre","props":{"code":"#安装hexo\nnpm install -g hexo-cli\nhexo -v\n\n# 初始化一个博客\ncd igiven.github.io\nhexo init\n\n#添加主题\ngit submodule add https://github.com/theme-next/hexo-theme-next themes/next\ngit submodule add https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\n\n#添加插件https://github.com/sisyphsu/hexo-enhancer#readme\n#如果不能生成,则删除db.json  ..或者hexo clean\nyarn add hexo-enhancer\nyarn add hexo-excerpt\n#本地服务器\nhexo s  \n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"#安装hexo\nnpm install -g hexo-cli\nhexo -v\n\n# 初始化一个博客\ncd igiven.github.io\nhexo init\n\n#添加主题\ngit submodule add https://github.com/theme-next/hexo-theme-next themes/next\ngit submodule add https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\n\n#添加插件https://github.com/sisyphsu/hexo-enhancer#readme\n#如果不能生成,则删除db.json  ..或者hexo clean\nyarn add hexo-enhancer\nyarn add hexo-excerpt\n#本地服务器\nhexo s  \n"}]}]},{"type":"element","tag":"h2","props":{"id":"github-actions"},"children":[{"type":"text","value":"GITHUB ACTIONS"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"添加此action前记得先添加分支gh-pages,并设置github的pages为该分支"}]},{"type":"element","tag":"pre","props":{"code":"git checkout --orphan gh-pages\n# .nojekyll 的空文件来禁用 Jekyll 构建过程，然后按照静态站点生成器的说明在 本地构建站点。\ntouch .nojekyll\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"git checkout --orphan gh-pages\n# .nojekyll 的空文件来禁用 Jekyll 构建过程，然后按照静态站点生成器的说明在 本地构建站点。\ntouch .nojekyll\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image-20200715164950805","src":"/images/2020-07-12-hexo-github/image-20200715164950805.png"},"children":[]}]},{"type":"element","tag":"pre","props":{"code":"# This workflow will do a clean install of node dependencies, build the source code and run tests across different versions of node\n# For more information see: https://help.github.com/actions/language-and-framework-guides/using-nodejs-with-github-actions\n\nname: Node.js CI\n\non:\n  push:\n    branches: [ master ]\n  pull_request:\n    branches: [ master ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    strategy:\n      matrix:\n        node-version: [14.x]\n\n    steps:\n    - name: 迁出main\n      uses: actions/checkout@v2\n      with: \n        path: main\n        submodules: 'recursive'\n\n    - name: Use Node.js ${{ matrix.node-version }}\n      uses: actions/setup-node@v1\n      with:\n        node-version: ${{ matrix.node-version }}\n    \n    - name: 安装hexo\n      run : |\n        npm install -g hexo\n  \n    - name: 生成博客\n      run : |\n        cd main\n        npm install\n        hexo clean\n        hexo generate\n        ls\n      \n    - name: 迁出gh-pages\n      uses: actions/checkout@v2\n      with:\n        path: gh-pages\n        ref: gh-pages\n        \n    - name: 部署到gh-pages\n      env:\n        TZ: Asia/Shanghai\n      run: |\n        cp -rf main/public/* gh-pages\n        cd gh-pages\n        git config --global user.name \"zhepama\"\n        git config --global user.email \"zhepama@gmail.com\"\n        git add .\n        git commit -m \"Auto Delopy at `date +\"%Y-%m-%d %H:%M\"`\"\n        git push origin gh-pages\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# This workflow will do a clean install of node dependencies, build the source code and run tests across different versions of node\n# For more information see: https://help.github.com/actions/language-and-framework-guides/using-nodejs-with-github-actions\n\nname: Node.js CI\n\non:\n  push:\n    branches: [ master ]\n  pull_request:\n    branches: [ master ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    strategy:\n      matrix:\n        node-version: [14.x]\n\n    steps:\n    - name: 迁出main\n      uses: actions/checkout@v2\n      with: \n        path: main\n        submodules: 'recursive'\n\n    - name: Use Node.js ${{ matrix.node-version }}\n      uses: actions/setup-node@v1\n      with:\n        node-version: ${{ matrix.node-version }}\n    \n    - name: 安装hexo\n      run : |\n        npm install -g hexo\n  \n    - name: 生成博客\n      run : |\n        cd main\n        npm install\n        hexo clean\n        hexo generate\n        ls\n      \n    - name: 迁出gh-pages\n      uses: actions/checkout@v2\n      with:\n        path: gh-pages\n        ref: gh-pages\n        \n    - name: 部署到gh-pages\n      env:\n        TZ: Asia/Shanghai\n      run: |\n        cp -rf main/public/* gh-pages\n        cd gh-pages\n        git config --global user.name \"zhepama\"\n        git config --global user.email \"zhepama@gmail.com\"\n        git add .\n        git commit -m \"Auto Delopy at `date +\"%Y-%m-%d %H:%M\"`\"\n        git push origin gh-pages\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"github-actions","depth":2,"text":"GITHUB ACTIONS"}]}},"_type":"markdown","_id":"content:tool:2020-07-12-hexo-github.md","_source":"content","_file":"tool/2020-07-12-hexo-github.md","_extension":"md","date":"2020-07-12"}