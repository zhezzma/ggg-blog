{"_path":"/unity/2020-09-12-addressables","_dir":"unity","_draft":false,"_partial":false,"_locale":"","title":"unity的addressables","description":"Addressables.InitializeAsync初始化并填充Addressables.ResourceLocatorsIResourceLocator资源目录,可以通过 代码加载额外的locatorvar  requestCatalog=Addressables.LoadContentCatalogAsync(\"http://192.168.100.100:51879/catalog_extra.json.json\", providerSuffix);\nvar locator = await requestCatalog.Task;\nAddressables.AddResourceLo","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"addressablesinitializeasync"},"children":[{"type":"text","value":"Addressables.InitializeAsync"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"初始化并填充Addressables.ResourceLocators"}]},{"type":"element","tag":"h2","props":{"id":"iresourcelocator"},"children":[{"type":"text","value":"IResourceLocator"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"资源目录,可以通过 代码加载额外的locator"}]},{"type":"element","tag":"pre","props":{"code":"var  requestCatalog=Addressables.LoadContentCatalogAsync(\"http://192.168.100.100:51879/catalog_extra.json.json\", providerSuffix);\nvar locator = await requestCatalog.Task;\nAddressables.AddResourceLocator(locator);\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var  requestCatalog=Addressables.LoadContentCatalogAsync(\"http://192.168.100.100:51879/catalog_extra.json.json\", providerSuffix);\nvar locator = await requestCatalog.Task;\nAddressables.AddResourceLocator(locator);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"存储了一个IResourceLocation列表..根据不同的key(label,path)进行存储"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比如: 有个资源是ui.prefab,同时又lable"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"enter"}]},{"type":"text","value":","},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"main"}]},{"type":"text","value":"可能就会有三个IResourceLocation"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"enter为key的IResourceLocation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"main为key的IResourceLocation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Assets/prefabs/ui/ui.prefab"}]},{"type":"text","value":"为key的IResourceLocation"}]}]},{"type":"element","tag":"h2","props":{"id":"iresourcelocation"},"children":[{"type":"text","value":"IResourceLocation"}]},{"type":"element","tag":"h3","props":{"id":"mergemode"},"children":[{"type":"text","value":"MergeMode"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MergeMode"}]},{"type":"text","value":"是什么呢？翻译过来是合并模式。"}]},{"type":"element","tag":"pre","props":{"code":"public enum MergeMode\n{\n    None = 0,\n    UseFirst = 0,\n    Union,\n    Intersection\n}\n","language":"text","meta":"","className":["language-text"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public enum MergeMode\n{\n    None = 0,\n    UseFirst = 0,\n    Union,\n    Intersection\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"会去先查询每一个地址/标签对应的资源，然后再根据MergeMode进行最终结果的计算。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"举个栗子："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比如传入的参数是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"new List<object>{\"cube\", \"red\"}"}]},{"type":"text","value":"，根据cube查询出来的资源有A、B、D，根据red查询出来的资源有C、D、E。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那么MergeMode是Node或UseFirst时，会取第一个key查询到的资源：A、B、D；"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"MergeMode是Union时，会取所有key查询到的资源的"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"并集"}]},{"type":"text","value":"：A、B、C、D、E；"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"MergeMode是Intersection时，会取所有key查询到的资源的"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"交集"}]},{"type":"text","value":"：D。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.unity3d.com/Packages/com.unity.addressables@1.15/manual/LoadingAddressableAssets.html","rel":["nofollow"]},"children":[{"type":"text","value":"Addressables.LoadAsset(s)Async | Addressables | 1.15.1 (unity3d.com)"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"addressablesinitializeasync","depth":2,"text":"Addressables.InitializeAsync"},{"id":"iresourcelocator","depth":2,"text":"IResourceLocator"},{"id":"iresourcelocation","depth":2,"text":"IResourceLocation","children":[{"id":"mergemode","depth":3,"text":"MergeMode"}]}]}},"_type":"markdown","_id":"content:unity:2020-09-12-Addressables.md","_source":"content","_file":"unity/2020-09-12-Addressables.md","_extension":"md","date":"2020-09-12"}