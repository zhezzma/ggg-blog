{"_path":"/game/2022-03-16-gyj-map","_dir":"game","_draft":false,"_partial":false,"_locale":"","title":"苟与剑中的单位生成方式","description":"npc生成方式默认的npc会存储必要数据,比如状态,位置等MapNPCSystem中从npcproxy加载数据,位置一般是固定的,从land中读取运行时的npc会存储MapNPCSystem中从npcproxy加载数据,根据land或者house,随机位置怪物不存储加载land后,则会转换SpawnerAuthoring进行转换生成的点,然后进行生成只运行AI的npcNPCProxy初始化的时候加载,影响局势的(君主,帮派)和与角色由关系的npc处理ai事件.如果进入地图.则实例化场景资源会存储SurvivalStorageSystem创建的时候,则会根据地图id从map_id.bin中加载数","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"npc生成方式"},"children":[{"type":"text","value":"npc生成方式"}]},{"type":"element","tag":"h3","props":{"id":"默认的npc"},"children":[{"type":"text","value":"默认的npc"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"会存储必要数据,比如状态,位置等"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MapNPCSystem"}]},{"type":"text","value":"中从"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npcproxy"}]},{"type":"text","value":"加载数据,位置一般是固定的,从land中读取"}]}]},{"type":"element","tag":"h3","props":{"id":"运行时的npc"},"children":[{"type":"text","value":"运行时的npc"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"会存储"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MapNPCSystem"}]},{"type":"text","value":"中从"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npcproxy"}]},{"type":"text","value":"加载数据,根据land或者house,随机位置"}]}]},{"type":"element","tag":"h3","props":{"id":"怪物"},"children":[{"type":"text","value":"怪物"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"不存储"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"加载land后,则会转换"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SpawnerAuthoring"}]},{"type":"text","value":"进行转换生成的点,然后进行生成"}]}]},{"type":"element","tag":"h3","props":{"id":"只运行ai的npc"},"children":[{"type":"text","value":"只运行AI的npc"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"NPCProxy"}]},{"type":"text","value":"初始化的时候加载,影响局势的(君主,帮派)和与角色由关系的npc"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"处理ai事件.如果进入地图.则实例化"}]}]},{"type":"element","tag":"h2","props":{"id":"场景资源"},"children":[{"type":"text","value":"场景资源"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"会存储"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SurvivalStorageSystem"}]},{"type":"text","value":"创建的时候,则会根据地图id从"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"map_id.bin"}]},{"type":"text","value":"中加载数据"}]}]},{"type":"element","tag":"h2","props":{"id":"用户物品"},"children":[{"type":"text","value":"用户物品"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"会存储"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SurvivalStorageSystem"}]},{"type":"text","value":"创建的时候,则会根据地图id从CharacterSpaceProxy中加载用户数据"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"npc生成方式","depth":2,"text":"npc生成方式","children":[{"id":"默认的npc","depth":3,"text":"默认的npc"},{"id":"运行时的npc","depth":3,"text":"运行时的npc"},{"id":"怪物","depth":3,"text":"怪物"},{"id":"只运行ai的npc","depth":3,"text":"只运行AI的npc"}]},{"id":"场景资源","depth":2,"text":"场景资源"},{"id":"用户物品","depth":2,"text":"用户物品"}]}},"_type":"markdown","_id":"content:game:2022-03-16-gyj-map.md","_source":"content","_file":"game/2022-03-16-gyj-map.md","_extension":"md","date":"2022-03-16"}