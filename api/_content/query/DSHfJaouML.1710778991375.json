{"_path":"/tool/2020-08-30-nuget-is-big","_dir":"tool","_draft":false,"_partial":false,"_locale":"","title":"发现nuget包太占用C盘，怎么办？","description":"如何发现的？查看C盘存储打开所有设置->系统->存储->选择C盘\n查看C盘使用情况，可以查看“其他”中情况\n发现.nuget文件夹占用的空间很大，这是由于VS的默认nuget包路径：C:\\Users{UserName}.nuget\\packages如何解决？NuGet 的行为由一个或多个 NuGet.Config (XML) 文件（可存在于项目范围、用户范围和计算机范围的级别）中的累积设置驱动。在解决方案文件夹中，设置应用于子文件夹中的所有项目。 请注意，如果配置文件位于项目文件夹中，则对该项目没有任何影响设置应用于所有操作，但可被任何项目级的设置替代。\nWindows：%appdata%\\N","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"如何发现的"},"children":[{"type":"text","value":"如何发现的？"}]},{"type":"element","tag":"h4","props":{"id":"查看c盘存储"},"children":[{"type":"text","value":"查看C盘存储"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"打开所有设置->系统->存储->选择C盘\n"},{"type":"element","tag":"img","props":{"alt":"image.png","src":"/images/2020-08-30-nuget-is-big/7777310-8ce825574a3c0e8b.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看C盘使用情况，可以查看“其他”中情况\n"},{"type":"element","tag":"img","props":{"alt":"image.png","src":"/images/2020-08-30-nuget-is-big/7777310-b854451afc8d311b.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"发现.nuget文件夹占用的空间很大，这是由于VS的默认nuget包路径：C:\\Users{UserName}.nuget\\packages"}]}]},{"type":"element","tag":"h1","props":{"id":"如何解决"},"children":[{"type":"text","value":"如何解决？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"NuGet 的行为由一个或多个 NuGet.Config (XML) 文件（可存在于项目范围、用户范围和计算机范围的级别）中的累积设置驱动。"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在解决方案文件夹中，设置应用于子文件夹中的所有项目。 请注意，如果配置文件位于项目文件夹中，则对该项目没有任何影响"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"设置应用于所有操作，但可被任何项目级的设置替代。\nWindows："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"%appdata%\\NuGet\\NuGet.Config"}]},{"type":"text","value":"\nMac/Linux："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.config/NuGet/NuGet.Config"}]},{"type":"text","value":" 或 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.nuget/NuGet/NuGet.Config"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"设置虽然适用于计算机上的所有操作，但会被任何用户级或项目级设置覆盖。\nWindows："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"%ProgramFiles(x86)%\\NuGet\\Config"}]},{"type":"text","value":"\nMac/Linux："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$XDG_DATA_HOME"}]},{"type":"text","value":"。 Mac/Linux: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$XDG_DATA_HOME"}]},{"type":"text","value":". 如果 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$XDG_DATA_HOME"}]},{"type":"text","value":" 的值是 null 或为空，将使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.local/share"}]},{"type":"text","value":" 或 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/usr/local/share"}]},{"type":"text","value":"（因 OS 版本而异）"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"发现占用空间资源比较大的时用户级别的nuget包..我们只要把这个文件夹移动到其他驱动器就可以."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下两种方法都行,建议第二种.因为nuget.exe还需要安装"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.可以直接使用命令行"}]},{"type":"element","tag":"pre","props":{"code":"nuget config -set repositoryPath=D:\\Users\\zhepama\\.nuget\\packages\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"nuget config -set repositoryPath=D:\\Users\\zhepama\\.nuget\\packages\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2.直接修改配置文件"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"C:\\Users\\{user}\\AppData\\Roaming\\NuGet\\NuGet.Config"}]},{"type":"text","value":"添加globalPackagesFolder节点"}]},{"type":"element","tag":"pre","props":{"code":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<configuration>\n  <packageSources>\n      <add key=\"nuget.org\" value=\"https://api.nuget.org/v3/index.json\" protocolVersion=\"3\" />\n  </packageSources>\n  <config> \n      <add key=\"globalPackagesFolder\" value=\"D:\\Users\\zhepama\\.nuget\\packages\" />\n  </config>\n</configuration>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<configuration>\n  <packageSources>\n      <add key=\"nuget.org\" value=\"https://api.nuget.org/v3/index.json\" protocolVersion=\"3\" />\n  </packageSources>\n  <config> \n      <add key=\"globalPackagesFolder\" value=\"D:\\Users\\zhepama\\.nuget\\packages\" />\n  </config>\n</configuration>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"参考连接"},"children":[{"type":"text","value":"参考连接"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.microsoft.com/zh-cn/nuget/consume-packages/configuring-nuget-behavior","rel":["nofollow"]},"children":[{"type":"text","value":"常见的 NuGet 配置 | Microsoft Docs"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.microsoft.com/zh-cn/nuget/reference/nuget-config-file","rel":["nofollow"]},"children":[{"type":"text","value":"nuget.config 文件引用 | Microsoft Docs"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:tool:2020-08-30-nuget-is-big.md","_source":"content","_file":"tool/2020-08-30-nuget-is-big.md","_extension":"md","date":"2020-08-30"}