{"_path":"/tool/2020-01-13-brew","_dir":"tool","_draft":false,"_partial":false,"_locale":"","title":"mac下brew 使用","description":"将brew装在非系统盘Command-R 重新安装您在 Mac 上安装过的最新 macOS，但不会升级到更高的版本。Option-Command-R 升级到与您的 Mac 兼容的最新 macOS。Shift-Option-Command-R 需要安装 macOS Sierra 10.12.4 或更高版本重新安装 Mac 随附的 macOS 或仍有提供的最接近版本。#禁用安全工具,使/usr/local可以挂载到非系统盘,需要进入安全模式执行\ncsrutil disable\n\n# 挂载非系统盘到/usr/local\nvi /etc/fstab\nUUID=BA245166-9FB3-4D88-98","body":{"type":"root","children":[{"type":"element","tag":"h3","props":{"id":"将brew装在非系统盘"},"children":[{"type":"text","value":"将brew装在非系统盘"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Command-R"}]},{"type":"text","value":" 重新安装您在 Mac 上安装过的最新 macOS，但不会升级到更高的版本。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Option-Command-R"}]},{"type":"text","value":" 升级到与您的 Mac 兼容的最新 macOS。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Shift-Option-Command-R"}]},{"type":"text","value":" 需要安装 "},{"type":"element","tag":"a","props":{"href":"https://link.zhihu.com/?target=https%3A//support.apple.com/zh-cn/HT201260","rel":["nofollow"]},"children":[{"type":"text","value":"macOS Sierra 10.12.4"}]},{"type":"text","value":" 或更高版本重新安装 Mac 随附的 macOS 或仍有提供的最接近版本。"}]}]},{"type":"element","tag":"pre","props":{"code":"#禁用安全工具,使/usr/local可以挂载到非系统盘,需要进入安全模式执行\ncsrutil disable\n\n# 挂载非系统盘到/usr/local\nvi /etc/fstab\nUUID=BA245166-9FB3-4D88-98E3-147559D0B531 /usr/local apfs rw,auto,nobrowse\n\n#设置环境变量HOMEBREW_TEMP需要和brew在同一个硬盘\nvi ~/.bash_profile\nexport PATH=\"/usr/local/bin:$PATH\"\nexport HOMEBREW_TEMP=/usr/local/temp\n","language":"shell","meta":"","className":["language-shell"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"#禁用安全工具,使/usr/local可以挂载到非系统盘,需要进入安全模式执行\ncsrutil disable\n\n# 挂载非系统盘到/usr/local\nvi /etc/fstab\nUUID=BA245166-9FB3-4D88-98E3-147559D0B531 /usr/local apfs rw,auto,nobrowse\n\n#设置环境变量HOMEBREW_TEMP需要和brew在同一个硬盘\nvi ~/.bash_profile\nexport PATH=\"/usr/local/bin:$PATH\"\nexport HOMEBREW_TEMP=/usr/local/temp\n"}]}]},{"type":"element","tag":"h3","props":{"id":"切换国内的镜像源"},"children":[{"type":"text","value":"切换国内的镜像源"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Homebrew 默认使用的是国外的源，在下载时速度可能会比较慢。好在国内的清华大学和中科大提供了 Homebrew 的镜像源，我们可以很轻松的切换源，从而提升我们的下载速度。"}]},{"type":"element","tag":"h4","props":{"id":"使用中科大的镜像"},"children":[{"type":"text","value":"使用中科大的镜像"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"执行如下命令，即可切换为中科大的镜像"}]},{"type":"element","tag":"pre","props":{"code":"cd \"$(brew --repo)\"\ngit remote set-url origin git://mirrors.ustc.edu.cn/brew.git\ncd \"$(brew --repo)/Library/Taps/homebrew/homebrew-core\"\ngit remote set-url origin git://mirrors.ustc.edu.cn/homebrew-core.git\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"cd \"$(brew --repo)\"\ngit remote set-url origin git://mirrors.ustc.edu.cn/brew.git\ncd \"$(brew --repo)/Library/Taps/homebrew/homebrew-core\"\ngit remote set-url origin git://mirrors.ustc.edu.cn/homebrew-core.git\n"}]}]},{"type":"element","tag":"h4","props":{"id":"使用清华大学的镜像"},"children":[{"type":"text","value":"使用清华大学的镜像"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"执行如下命令，即可切换为清华大学的镜像"}]},{"type":"element","tag":"pre","props":{"code":"git -C \"$(brew --repo)\" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git\n\ngit -C \"$(brew --repo homebrew/core)\" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"git -C \"$(brew --repo)\" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git\n\ngit -C \"$(brew --repo homebrew/core)\" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git\n"}]}]},{"type":"element","tag":"h3","props":{"id":"使用-brewfile-完成环境迁移"},"children":[{"type":"text","value":"使用 Brewfile 完成环境迁移"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设备永久了，我们的电脑中会有大量的软件，如果你需要迁移环境，重新安装会是一个大麻烦，好在 Homebrew 本身为我们提供了一个非常好用的环境迁移的工具 —— Homebrew Bundle"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你首先需要在之前的电脑中执行 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"brew bundle dump"}]},{"type":"text","value":" 来完成当前环境的导出,导出完成后，你会得到一个 "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Brewfile"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"img","src":"/images/2020-01-13-brew/1.jpeg"},"children":[]},{"type":"text","value":"然后将 "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Brewfile"}]},{"type":"text","value":" 复制到新的电脑中，并执行 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"brew bundle"}]},{"type":"text","value":" 来开始安装的过程。"}]},{"type":"element","tag":"h3","props":{"id":"常用软件"},"children":[{"type":"text","value":"常用软件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"截屏2020-02-05上午4.33.45","src":"/images/2020-01-13-brew/%E6%88%AA%E5%B1%8F2020-02-05%E4%B8%8A%E5%8D%884.33.45.png"},"children":[]}]},{"type":"element","tag":"pre","props":{"code":"brew cask install launchrocket\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"brew cask install launchrocket\n"}]}]},{"type":"element","tag":"h3","props":{"id":"常用链接"},"children":[{"type":"text","value":"常用链接"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/Homebrew/homebrew-services","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/Homebrew/homebrew-services"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://sspai.com/post/56009","rel":["nofollow"]},"children":[{"type":"text","value":"https://sspai.com/post/56009"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"将brew装在非系统盘","depth":3,"text":"将brew装在非系统盘"},{"id":"切换国内的镜像源","depth":3,"text":"切换国内的镜像源"},{"id":"使用-brewfile-完成环境迁移","depth":3,"text":"使用 Brewfile 完成环境迁移"},{"id":"常用软件","depth":3,"text":"常用软件"},{"id":"常用链接","depth":3,"text":"常用链接"}]}},"_type":"markdown","_id":"content:tool:2020-01-13-brew.md","_source":"content","_file":"tool/2020-01-13-brew.md","_extension":"md","date":"2020-01-13"}