---
title : "苟与剑中的单位生成方式"
---

## npc生成方式

### 默认的npc

- 会存储必要数据,比如状态,位置等

- `MapNPCSystem`中从`npcproxy`加载数据,位置一般是固定的,从land中读取

### 运行时的npc

- 会存储

- `MapNPCSystem`中从`npcproxy`加载数据,根据land或者house,随机位置

### 怪物

- 不存储

- 加载land后,则会转换`SpawnerAuthoring`进行转换生成的点,然后进行生成

### 只运行AI的npc

- `NPCProxy`初始化的时候加载,影响局势的(君主,帮派)和与角色由关系的npc

- 处理ai事件.如果进入地图.则实例化

## 场景资源

- 会存储

- `SurvivalStorageSystem`创建的时候,则会根据地图id从`map_id.bin`中加载数据

## 用户物品

- 会存储

- `SurvivalStorageSystem`创建的时候,则会根据地图id从CharacterSpaceProxy中加载用户数据